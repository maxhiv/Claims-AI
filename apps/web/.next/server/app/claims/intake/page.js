(()=>{var e={};e.id=360,e.ids=[360],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5129:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(7274),r(1506),r(5866);var t=r(3191),a=r(8716),i=r(7922),l=r.n(i),n=r(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let c=["",{children:["claims",{children:["intake",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7274)),"/home/runner/workspace/apps/web/app/claims/intake/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/home/runner/workspace/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/workspace/apps/web/app/claims/intake/page.tsx"],u="/claims/intake/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/claims/intake/page",pathname:"/claims/intake",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6813:(e,s,r)=>{Promise.resolve().then(r.bind(r,7962))},908:()=>{},85:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7962:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(326),a=r(7577),i=r(7389);function l({onSubmit:e,onCancel:s,initialData:r}){let[i,l]=(0,a.useState)(r||{is_notice_only:!1,mailing_same_as_loss:!0,insured_language:"en",best_contact_days:["Monday","Tuesday","Wednesday","Thursday","Friday"]}),[n,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)("policy"),u=e=>s=>{let r="checkbox"===s.target.type?s.target.checked:s.target.value;l(s=>({...s,[e]:r}))},m=async s=>{s.preventDefault(),o(!0);try{await e(i)}finally{o(!1)}},x=[{id:"policy",title:"Policy Information",icon:"\uD83D\uDCCB"},{id:"incident",title:"Incident Details",icon:"\uD83D\uDEA8"},{id:"location",title:"Loss Location",icon:"\uD83D\uDCCD"},{id:"insured",title:"Insured Information",icon:"\uD83D\uDC64"},{id:"authority",title:"Authority Reports",icon:"\uD83D\uDE94"},{id:"stakeholders",title:"Witnesses & Contacts",icon:"\uD83D\uDC65"},{id:"reporter",title:"Reporter Details",icon:"\uD83D\uDCDD"}],b=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Policy Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Number *"}),t.jsx("input",{type:"text",required:!0,value:i.policy_number||"",onChange:u("policy_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Name *"}),t.jsx("input",{type:"text",required:!0,value:i.policy_name||"",onChange:u("policy_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Effective Date *"}),t.jsx("input",{type:"date",required:!0,value:i.policy_effective_date?i.policy_effective_date.split("T")[0]:"",onChange:u("policy_effective_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Expiration Date *"}),t.jsx("input",{type:"date",required:!0,value:i.policy_expiration_date?i.policy_expiration_date.split("T")[0]:"",onChange:u("policy_expiration_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier"}),t.jsx("input",{type:"text",value:i.carrier||"",onChange:u("carrier"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Federal ID Number"}),t.jsx("input",{type:"text",value:i.federal_id_number||"",onChange:u("federal_id_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"notice_only",checked:i.is_notice_only||!1,onChange:u("is_notice_only"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"notice_only",className:"text-sm text-gray-700",children:"Is this a Notice Only Claim?"})]})]}),p=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Incident Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Incident *"}),t.jsx("input",{type:"date",required:!0,value:i.incident_date?i.incident_date.split("T")[0]:"",onChange:u("incident_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time of Incident"}),t.jsx("input",{type:"time",value:i.incident_time||"",onChange:u("incident_time"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cause of Loss"}),(0,t.jsxs)("select",{value:i.cause_of_loss||"",onChange:u("cause_of_loss"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select cause of loss"}),t.jsx("option",{value:"fire",children:"Fire"}),t.jsx("option",{value:"water",children:"Water Damage"}),t.jsx("option",{value:"wind",children:"Wind/Hail"}),t.jsx("option",{value:"theft",children:"Theft/Burglary"}),t.jsx("option",{value:"vandalism",children:"Vandalism"}),t.jsx("option",{value:"lightning",children:"Lightning"}),t.jsx("option",{value:"explosion",children:"Explosion"}),t.jsx("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Damage Estimate ($)"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:i.damage_estimate?i.damage_estimate/100:"",onChange:e=>{let s=parseFloat(e.target.value)||0;l(e=>({...e,damage_estimate:Math.round(100*s)}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brief Description of Incident *"}),t.jsx("textarea",{required:!0,rows:3,value:i.incident_description||"",onChange:u("incident_description"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe what happened..."})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Damage Description"}),t.jsx("textarea",{rows:3,value:i.damage_description||"",onChange:u("damage_description"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the damage in detail..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"occurred_on_premises",checked:i.occurred_on_premises||!1,onChange:u("occurred_on_premises"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"occurred_on_premises",className:"text-sm text-gray-700",children:"Occurred on insured premises?"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"photos_taken",checked:i.photos_taken||!1,onChange:u("photos_taken"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"photos_taken",className:"text-sm text-gray-700",children:"Were photos taken?"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"location_inspected",checked:i.location_inspected_immediately||!1,onChange:u("location_inspected_immediately"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"location_inspected",className:"text-sm text-gray-700",children:"Location inspected immediately?"})]})]})]}),g=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Loss Location"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),t.jsx("input",{type:"text",required:!0,value:i.loss_address||"",onChange:u("loss_address"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),t.jsx("input",{type:"text",value:i.loss_address_2||"",onChange:u("loss_address_2"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),t.jsx("input",{type:"text",required:!0,value:i.loss_city||"",onChange:u("loss_city"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),t.jsx("input",{type:"text",required:!0,value:i.loss_state||"",onChange:u("loss_state"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),t.jsx("input",{type:"text",required:!0,value:i.loss_zip||"",onChange:u("loss_zip"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County"}),t.jsx("input",{type:"text",value:i.loss_county||"",onChange:u("loss_county"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"mortgage_on_property",checked:i.mortgage_on_property||!1,onChange:u("mortgage_on_property"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"mortgage_on_property",className:"text-sm text-gray-700",children:"Is there a mortgage on the property?"})]})]}),h=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Insured Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insured Name *"}),t.jsx("input",{type:"text",required:!0,value:i.insured_name||"",onChange:u("insured_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),t.jsx("input",{type:"tel",value:i.insured_phone||"",onChange:u("insured_phone"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cell Number"}),t.jsx("input",{type:"tel",value:i.insured_cell_number||"",onChange:u("insured_cell_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:i.insured_email||"",onChange:u("insured_email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Contact Method"}),(0,t.jsxs)("select",{value:i.preferred_contact_method||"",onChange:u("preferred_contact_method"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select method"}),t.jsx("option",{value:"phone",children:"Phone"}),t.jsx("option",{value:"email",children:"Email"}),t.jsx("option",{value:"sms",children:"SMS"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,t.jsxs)("select",{value:i.insured_language||"en",onChange:u("insured_language"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"es",children:"Spanish"}),t.jsx("option",{value:"fr",children:"French"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Best Contact Time - From"}),t.jsx("input",{type:"time",value:i.best_contact_time_from||"",onChange:u("best_contact_time_from"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Best Contact Time - To"}),t.jsx("input",{type:"time",value:i.best_contact_time_to||"",onChange:u("best_contact_time_to"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),y=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Authority Reports"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"authorities_contacted",checked:i.authorities_contacted||!1,onChange:u("authorities_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"authorities_contacted",className:"text-sm font-medium text-gray-700",children:"Were authorities contacted?"})]}),i.authorities_contacted&&(0,t.jsxs)("div",{className:"ml-6 space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"police_contacted",checked:i.police_contacted||!1,onChange:u("police_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"police_contacted",className:"text-sm text-gray-700",children:"Police"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"fire_contacted",checked:i.fire_contacted||!1,onChange:u("fire_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"fire_contacted",className:"text-sm text-gray-700",children:"Fire Department"})]})]}),i.police_contacted&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police Authority Name"}),t.jsx("input",{type:"text",value:i.police_authority_name||"",onChange:u("police_authority_name"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police Report Number"}),t.jsx("input",{type:"text",value:i.police_report_number||"",onChange:u("police_report_number"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),i.fire_contacted&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fire Authority Name"}),t.jsx("input",{type:"text",value:i.fire_authority_name||"",onChange:u("fire_authority_name"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fire Report Number"}),t.jsx("input",{type:"text",value:i.fire_report_number||"",onChange:u("fire_report_number"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]})]});return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-xl shadow-lg",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Loss Form"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b pb-4",children:x.map(e=>(0,t.jsxs)("button",{onClick:()=>d(e.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.icon," ",e.title]},e.id))}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(()=>{switch(c){case"policy":default:return b();case"incident":return p();case"location":return g();case"insured":return h();case"authority":return y()}})(),(0,t.jsxs)("div",{className:"flex justify-between pt-6 border-t",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),(0,t.jsxs)("div",{className:"space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>{let e=x.findIndex(e=>e.id===c);e>0&&d(x[e-1].id)},disabled:"policy"===c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsx("button",{type:"button",onClick:()=>{let e=x.findIndex(e=>e.id===c);e<x.length-1&&d(x[e+1].id)},disabled:c===x[x.length-1].id,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}),t.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Submitting...":"Submit Claim"})]})]})]})]})}function n(){let e=(0,i.useRouter)(),[s,r]=(0,a.useState)(!1),[n,o]=(0,a.useState)(null),c=async s=>{r(!0),o(null);try{let r=function(e){let s="standard",r=50,t=!1,a=[];if("fire"===e.cause_of_loss||"Fire"===e.peril?(s="critical",r=95,t=!0,a.push("Fire damage requires immediate response")):("water"===e.cause_of_loss||"Water"===e.peril||"Water Damage"===e.peril)&&(s="urgent",r=80,t=!0,a.push("Water damage requires urgent attention to prevent mold")),e.damage_estimate&&e.damage_estimate>=5e6&&(s="critical"===s?"critical":"urgent",r=Math.max(r,85),t=!0,a.push("High damage estimate requires priority handling")),e.authorities_contacted&&(r+=15,(e.police_contacted||e.fire_contacted)&&(s="standard"===s?"urgent":s,a.push("Authority involvement increases urgency"))),e.incident_date){let t=new Date(e.incident_date);(Date.now()-t.getTime())/864e5<=1&&(r+=20,"standard"===s&&(s="urgent"),a.push("Recent incident requires quick response"))}return("theft"===e.cause_of_loss||e.peril?.toLowerCase().includes("theft")||e.peril?.toLowerCase().includes("burglary"))&&(s="critical"===s?"critical":"urgent",r=Math.max(r,75),a.push("Theft/burglary requires prompt investigation")),("wind"===e.cause_of_loss||e.peril?.toLowerCase().includes("wind")||e.peril?.toLowerCase().includes("hail"))&&(r=Math.max(r,60),a.push("Weather-related damage requires timely assessment")),{severity:s,priority:r=Math.min(r,100),requires_immediate_response:t,reasoning:a.join("; ")||"Standard processing based on incident type"}}(s),t={...s,severity_level:r.severity,priority_score:r.priority,requires_immediate_response:r.requires_immediate_response,claim_number:`CLM-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,stage:"Intake",date_reported:new Date().toISOString(),adjuster_id:"a1234567-e89b-12d3-a456-426614174000"},a=await fetch("/api/proxy/claims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to submit claim");await a.json(),alert(`Claim submitted successfully!

Claim Number: ${t.claim_number}
Severity: ${r.severity.toUpperCase()}
Priority Score: ${r.priority}

Reasoning: ${r.reasoning}`),e.push("/")}catch(e){console.error("Error submitting claim:",e),o("Failed to submit claim. Please try again.")}finally{r(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Claim Intake"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Complete the property loss information below. The system will automatically classify severity and prioritize scheduling based on incident details."})]}),n&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("div",{className:"flex",children:(0,t.jsxs)("div",{className:"text-red-600",children:[t.jsx("span",{className:"font-medium",children:"Error:"})," ",n]})})}),t.jsx(l,{onSubmit:c,onCancel:()=>{e.push("/")}}),s&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),t.jsx("span",{className:"text-gray-700",children:"Processing claim and analyzing severity..."})]})})})]})})}},7274:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var t=r(8570);let a=(0,t.createProxy)(String.raw`/home/runner/workspace/apps/web/app/claims/intake/page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,t.createProxy)(String.raw`/home/runner/workspace/apps/web/app/claims/intake/page.tsx#default`)},1506:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>a});var t=r(9510);r(7272);let a={title:"AI Scheduler",description:"Davies CQ \xd7 AI Scheduler"};function i({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:"min-h-screen bg-gray-50 text-gray-900",children:e})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,471],()=>r(5129));module.exports=t})();