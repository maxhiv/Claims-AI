(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{6326:function(e,s,r){Promise.resolve().then(r.bind(r,7134))},7134:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var t=r(7437),l=r(2265),i=r(1169);function a(e){let{onSubmit:s,onCancel:r,initialData:i}=e,[a,o]=(0,l.useState)(i||{is_notice_only:!1,mailing_same_as_loss:!0,insured_language:"en",best_contact_days:["Monday","Tuesday","Wednesday","Thursday","Friday"]}),[n,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)("policy"),m=e=>s=>{let r="checkbox"===s.target.type?s.target.checked:s.target.value;o(s=>({...s,[e]:r}))},x=async e=>{e.preventDefault(),c(!0);try{await s(a)}finally{c(!1)}},b=[{id:"policy",title:"Policy Information",icon:"\uD83D\uDCCB"},{id:"incident",title:"Incident Details",icon:"\uD83D\uDEA8"},{id:"location",title:"Loss Location",icon:"\uD83D\uDCCD"},{id:"insured",title:"Insured Information",icon:"\uD83D\uDC64"},{id:"authority",title:"Authority Reports",icon:"\uD83D\uDE94"},{id:"stakeholders",title:"Witnesses & Contacts",icon:"\uD83D\uDC65"},{id:"reporter",title:"Reporter Details",icon:"\uD83D\uDCDD"}],g=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Policy Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Number *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.policy_number||"",onChange:m("policy_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Name *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.policy_name||"",onChange:m("policy_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Effective Date *"}),(0,t.jsx)("input",{type:"date",required:!0,value:a.policy_effective_date?a.policy_effective_date.split("T")[0]:"",onChange:m("policy_effective_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Policy Expiration Date *"}),(0,t.jsx)("input",{type:"date",required:!0,value:a.policy_expiration_date?a.policy_expiration_date.split("T")[0]:"",onChange:m("policy_expiration_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier"}),(0,t.jsx)("input",{type:"text",value:a.carrier||"",onChange:m("carrier"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Federal ID Number"}),(0,t.jsx)("input",{type:"text",value:a.federal_id_number||"",onChange:m("federal_id_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"notice_only",checked:a.is_notice_only||!1,onChange:m("is_notice_only"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"notice_only",className:"text-sm text-gray-700",children:"Is this a Notice Only Claim?"})]})]}),p=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Incident Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Incident *"}),(0,t.jsx)("input",{type:"date",required:!0,value:a.incident_date?a.incident_date.split("T")[0]:"",onChange:m("incident_date"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time of Incident"}),(0,t.jsx)("input",{type:"time",value:a.incident_time||"",onChange:m("incident_time"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cause of Loss"}),(0,t.jsxs)("select",{value:a.cause_of_loss||"",onChange:m("cause_of_loss"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select cause of loss"}),(0,t.jsx)("option",{value:"fire",children:"Fire"}),(0,t.jsx)("option",{value:"water",children:"Water Damage"}),(0,t.jsx)("option",{value:"wind",children:"Wind/Hail"}),(0,t.jsx)("option",{value:"theft",children:"Theft/Burglary"}),(0,t.jsx)("option",{value:"vandalism",children:"Vandalism"}),(0,t.jsx)("option",{value:"lightning",children:"Lightning"}),(0,t.jsx)("option",{value:"explosion",children:"Explosion"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Damage Estimate ($)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:a.damage_estimate?a.damage_estimate/100:"",onChange:e=>{let s=parseFloat(e.target.value)||0;o(e=>({...e,damage_estimate:Math.round(100*s)}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brief Description of Incident *"}),(0,t.jsx)("textarea",{required:!0,rows:3,value:a.incident_description||"",onChange:m("incident_description"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe what happened..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Damage Description"}),(0,t.jsx)("textarea",{rows:3,value:a.damage_description||"",onChange:m("damage_description"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the damage in detail..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"occurred_on_premises",checked:a.occurred_on_premises||!1,onChange:m("occurred_on_premises"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"occurred_on_premises",className:"text-sm text-gray-700",children:"Occurred on insured premises?"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"photos_taken",checked:a.photos_taken||!1,onChange:m("photos_taken"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"photos_taken",className:"text-sm text-gray-700",children:"Were photos taken?"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"location_inspected",checked:a.location_inspected_immediately||!1,onChange:m("location_inspected_immediately"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"location_inspected",className:"text-sm text-gray-700",children:"Location inspected immediately?"})]})]})]}),h=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Loss Location"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.loss_address||"",onChange:m("loss_address"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",value:a.loss_address_2||"",onChange:m("loss_address_2"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.loss_city||"",onChange:m("loss_city"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.loss_state||"",onChange:m("loss_state"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.loss_zip||"",onChange:m("loss_zip"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County"}),(0,t.jsx)("input",{type:"text",value:a.loss_county||"",onChange:m("loss_county"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mortgage_on_property",checked:a.mortgage_on_property||!1,onChange:m("mortgage_on_property"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"mortgage_on_property",className:"text-sm text-gray-700",children:"Is there a mortgage on the property?"})]})]}),f=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Insured Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insured Name *"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.insured_name||"",onChange:m("insured_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:a.insured_phone||"",onChange:m("insured_phone"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cell Number"}),(0,t.jsx)("input",{type:"tel",value:a.insured_cell_number||"",onChange:m("insured_cell_number"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsx)("input",{type:"email",value:a.insured_email||"",onChange:m("insured_email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Contact Method"}),(0,t.jsxs)("select",{value:a.preferred_contact_method||"",onChange:m("preferred_contact_method"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select method"}),(0,t.jsx)("option",{value:"phone",children:"Phone"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"sms",children:"SMS"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,t.jsxs)("select",{value:a.insured_language||"en",onChange:m("insured_language"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"en",children:"English"}),(0,t.jsx)("option",{value:"es",children:"Spanish"}),(0,t.jsx)("option",{value:"fr",children:"French"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Best Contact Time - From"}),(0,t.jsx)("input",{type:"time",value:a.best_contact_time_from||"",onChange:m("best_contact_time_from"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Best Contact Time - To"}),(0,t.jsx)("input",{type:"time",value:a.best_contact_time_to||"",onChange:m("best_contact_time_to"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),y=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Authority Reports"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"authorities_contacted",checked:a.authorities_contacted||!1,onChange:m("authorities_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"authorities_contacted",className:"text-sm font-medium text-gray-700",children:"Were authorities contacted?"})]}),a.authorities_contacted&&(0,t.jsxs)("div",{className:"ml-6 space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"police_contacted",checked:a.police_contacted||!1,onChange:m("police_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"police_contacted",className:"text-sm text-gray-700",children:"Police"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"fire_contacted",checked:a.fire_contacted||!1,onChange:m("fire_contacted"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"fire_contacted",className:"text-sm text-gray-700",children:"Fire Department"})]})]}),a.police_contacted&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police Authority Name"}),(0,t.jsx)("input",{type:"text",value:a.police_authority_name||"",onChange:m("police_authority_name"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police Report Number"}),(0,t.jsx)("input",{type:"text",value:a.police_report_number||"",onChange:m("police_report_number"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.fire_contacted&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fire Authority Name"}),(0,t.jsx)("input",{type:"text",value:a.fire_authority_name||"",onChange:m("fire_authority_name"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fire Report Number"}),(0,t.jsx)("input",{type:"text",value:a.fire_report_number||"",onChange:m("fire_report_number"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]})]});return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-xl shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Loss Form"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 border-b pb-4",children:b.map(e=>(0,t.jsxs)("button",{onClick:()=>u(e.id),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(d===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.icon," ",e.title]},e.id))}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(()=>{switch(d){case"policy":default:return g();case"incident":return p();case"location":return h();case"insured":return f();case"authority":return y()}})(),(0,t.jsxs)("div",{className:"flex justify-between pt-6 border-t",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{let e=b.findIndex(e=>e.id===d);e>0&&u(b[e-1].id)},disabled:"policy"===d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=b.findIndex(e=>e.id===d);e<b.length-1&&u(b[e+1].id)},disabled:d===b[b.length-1].id,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Submitting...":"Submit Claim"})]})]})]})]})}function o(){let e=(0,i.useRouter)(),[s,r]=(0,l.useState)(!1),[o,n]=(0,l.useState)(null),c=async s=>{r(!0),n(null);try{let r=function(e){var s,r,t,l;let i="standard",a=50,o=!1,n=[];if("fire"===e.cause_of_loss||"Fire"===e.peril?(i="critical",a=95,o=!0,n.push("Fire damage requires immediate response")):("water"===e.cause_of_loss||"Water"===e.peril||"Water Damage"===e.peril)&&(i="urgent",a=80,o=!0,n.push("Water damage requires urgent attention to prevent mold")),e.damage_estimate&&e.damage_estimate>=5e6&&(i="critical"===i?"critical":"urgent",a=Math.max(a,85),o=!0,n.push("High damage estimate requires priority handling")),e.authorities_contacted&&(a+=15,(e.police_contacted||e.fire_contacted)&&(i="standard"===i?"urgent":i,n.push("Authority involvement increases urgency"))),e.incident_date){let s=new Date(e.incident_date);(Date.now()-s.getTime())/864e5<=1&&(a+=20,"standard"===i&&(i="urgent"),n.push("Recent incident requires quick response"))}return("theft"===e.cause_of_loss||(null===(s=e.peril)||void 0===s?void 0:s.toLowerCase().includes("theft"))||(null===(r=e.peril)||void 0===r?void 0:r.toLowerCase().includes("burglary")))&&(i="critical"===i?"critical":"urgent",a=Math.max(a,75),n.push("Theft/burglary requires prompt investigation")),("wind"===e.cause_of_loss||(null===(t=e.peril)||void 0===t?void 0:t.toLowerCase().includes("wind"))||(null===(l=e.peril)||void 0===l?void 0:l.toLowerCase().includes("hail")))&&(a=Math.max(a,60),n.push("Weather-related damage requires timely assessment")),{severity:i,priority:a=Math.min(a,100),requires_immediate_response:o,reasoning:n.join("; ")||"Standard processing based on incident type"}}(s),t={...s,severity_level:r.severity,priority_score:r.priority,requires_immediate_response:r.requires_immediate_response,claim_number:"CLM-".concat(new Date().getFullYear(),"-").concat(String(Date.now()).slice(-6)),stage:"Intake",date_reported:new Date().toISOString(),adjuster_id:"a1234567-e89b-12d3-a456-426614174000"},l=await fetch("/api/proxy/claims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw Error("Failed to submit claim");await l.json(),alert("Claim submitted successfully!\n\nClaim Number: ".concat(t.claim_number,"\nSeverity: ").concat(r.severity.toUpperCase(),"\nPriority Score: ").concat(r.priority,"\n\nReasoning: ").concat(r.reasoning)),e.push("/")}catch(e){console.error("Error submitting claim:",e),n("Failed to submit claim. Please try again.")}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"New Claim Intake"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Complete the property loss information below. The system will automatically classify severity and prioritize scheduling based on incident details."})]}),o&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)("div",{className:"text-red-600",children:[(0,t.jsx)("span",{className:"font-medium",children:"Error:"})," ",o]})})}),(0,t.jsx)(a,{onSubmit:c,onCancel:()=>{e.push("/")}}),s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Processing claim and analyzing severity..."})]})})})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6326)}),_N_E=e.O()}]);